<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>事件之滚动条</title>
	<style>
	    *{
	    	margin: 0;
	    	padding: 0;
	    }
		#div{
			width: 10px;
			height: 500px;
			border: 1px solid pink;
		}
		#btn{
			width: 10px;
			height: 50px;
			background: red;
			position: absolute;
		}
		#box{
			width: 300px;
			height: 300px;
		    border: 1px solid black;
		    display: inline-block;
		}
	</style>
	<script>
		window.onload = function(){
			var oDiv = document.getElementById('div');
			var oBtn = document.getElementById('btn');
			var oBox  = document.getElementById('box')
			oBtn.onmousedown = function(ev){
				var oEvent = ev || event;
				var disY = oEvent.clientY - oBtn.offsetTop;

				document.onmousemove = function(ev){
				     var oEvent = ev || event;
                    
				     var t = oEvent.clientY - disY;
				     var scala = t/(oDiv.offsetHeight - oBox.offsetHeight);
				      console.log(t/(oDiv.offsetHeight - oBox.offsetHeight));
				     if (t<0) {
				     	t = 0;
				     }else if (t>oDiv.offsetHeight - oBtn.offsetHeight) {
                         t = oDiv.offsetHeight - oBox.offsetHeight;
				     }
                      oBtn.style.top = t +'px';
				     	
				}
				document.onmouseup = function(){
					document.onmousemove = null;
					document.onmouseup  = null;
				}
			}
		}
	</script>
</head>
<body>
	<div id="div">
		<div id="btn"></div>
	</div>
	<div id="box"></div>
</body>
</html>