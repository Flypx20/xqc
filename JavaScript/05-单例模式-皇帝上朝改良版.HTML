<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>皇帝上朝改良版</title>
</head>
<body>
	
</body>
<script type="text/javascript">
	(function(w){
		var king1 = null;
		function King(){
			var self = this;
			 var fn = (function(){
				return function(){
					if (!king1) {
						self.name = "皇帝";
						self.id = Math.random();
						king1 = self;
					}
					return king1;
				};
			})();
			return fn();
		}
		King.prototype = {
			constructor :King,
			__proto__:Object.prototype,
			say : function(){
				console.log(this.name+this.id+' say :: 平身');
			}
		};
		w.King = King;
		}
	)(window);
	for(var i = 1;i<=5;i++){
		console.log("day"+i);
		  new King().say();
	}
</script>
</html>